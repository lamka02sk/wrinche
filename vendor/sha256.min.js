"use strict";(function(H){function F(c,a,d){var l=0,b=[],g=0,f,o,i,e,h,q,j,p,n=!1,t=[],s=[],u,k=!1;d=d||{};f=d.encoding||"UTF8";u=d.numRounds||1;if(u!==parseInt(u,10)||1>u){throw Error()}if(0===c.lastIndexOf("SHA-",0)){if(q=function(v,y){return r(v,y,c)},j=function(v,W,X,z){var V,y;if("SHA-224"===c||"SHA-256"===c){V=(W+65>>>9<<4)+15,y=16}else{throw Error()}for(;v.length<=V;){v.push(0)}v[W>>>5]|=128<<24-W%32;W=W+X;v[V]=W&4294967295;v[V-1]=W/4294967296|0;X=v.length;for(W=0;W<X;W+=y){z=r(v.slice(W,W+y),z,c)}if("SHA-224"===c){v=[z[0],z[1],z[2],z[3],z[4],z[5],z[6]]}else{if("SHA-256"===c){v=z}else{throw Error()}}return v},p=function(v){return v.slice()},"SHA-224"===c){h=512,e=224}else{if("SHA-256"===c){h=512,e=256}else{throw Error()}}}else{throw Error()}i=w(a,f);o=I(c);this.setHMACKey=function(v,T,z){var y;if(!0===n){throw Error()}if(!0===k){throw Error()}f=(z||{}).encoding||"UTF8";T=w(T,f)(v);v=T.binLen;T=T.value;y=h>>>3;z=y/4-1;if(y<v/8){for(T=j(T,v,0,I(c));T.length<=z;){T.push(0)}T[z]&=4294967040}else{if(y>v/8){for(;T.length<=z;){T.push(0)}T[z]&=4294967040}}for(v=0;v<=z;v+=1){t[v]=T[v]^909522486,s[v]=T[v]^1549556828}o=q(t,o);l=h;n=!0};this.update=function(v){var y,X,V,z=0,W=h>>>5;y=i(v,b,g);v=y.binLen;X=y.value;y=v>>>5;for(V=0;V<y;V+=W){z+h<=v&&(o=q(X.slice(V,V+W),o),z+=h)}l+=z;b=X.slice(z>>>5);g=v%h;k=!0};this.getHash=function(v,z){var y,X,Y,W;if(!0===n){throw Error()}Y=A(z);switch(v){case"HEX":y=function(S){return B(S,e,Y)};break;case"B64":y=function(S){return C(S,e,Y)};break;case"BYTES":y=function(S){return D(S,e)};break;case"ARRAYBUFFER":try{X=new ArrayBuffer(0)}catch(Z){throw Error()}y=function(S){return E(S,e)};break;default:throw Error()}W=j(b.slice(),g,l,p(o));for(X=1;X<u;X+=1){W=j(W,e,0,I(c))}return y(W)};this.getHMAC=function(v,z){var y,Y,W,X;if(!1===n){throw Error()}W=A(z);switch(v){case"HEX":y=function(S){return B(S,e,W)};break;case"B64":y=function(S){return C(S,e,W)};break;case"BYTES":y=function(S){return D(S,e)};break;case"ARRAYBUFFER":try{y=new ArrayBuffer(0)}catch(Z){throw Error()}y=function(S){return E(S,e)};break;default:throw Error()}Y=j(b.slice(),g,l,p(o));X=q(s,I(c));X=j(Y,e,h,X);return y(X)}}function m(){}function B(f,d,c){var e="";d/=8;var b,a;for(b=0;b<d;b+=1){a=f[b>>>2]>>>8*(3+b%4*-1),e+="0123456789abcdef".charAt(a>>>4&15)+"0123456789abcdef".charAt(a&15)}return c.outputUpper?e.toUpperCase():e}function C(f,d,h){var e="",c=d/8,b,a,g;for(b=0;b<c;b+=3){for(a=b+1<c?f[b+1>>>2]:0,g=b+2<c?f[b+2>>>2]:0,g=(f[b>>>2]>>>8*(3+b%4*-1)&255)<<16|(a>>>8*(3+(b+1)%4*-1)&255)<<8|g>>>8*(3+(b+2)%4*-1)&255,a=0;4>a;a+=1){8*b+6*a<=d?e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g>>>6*(3-a)&63):e+=h.b64Pad}}return e}function D(f,d){var c="",e=d/8,b,a;for(b=0;b<e;b+=1){a=f[b>>>2]>>>8*(3+b%4*-1)&255,c+=String.fromCharCode(a)}return c}function E(f,d){var c=d/8,e,b=new ArrayBuffer(c),a;a=new Uint8Array(b);for(e=0;e<c;e+=1){a[e]=f[e>>>2]>>>8*(3+e%4*-1)&255}return b}function A(b){var a={outputUpper:!1,b64Pad:"=",shakeLen:-1};b=b||{};a.outputUpper=b.outputUpper||!1;!0===b.hasOwnProperty("b64Pad")&&(a.b64Pad=b.b64Pad);if("boolean"!==typeof a.outputUpper){throw Error()}if("string"!==typeof a.b64Pad){throw Error()}return a}function w(b,d){var c;switch(d){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error()}switch(b){case"HEX":c=function(i,j,k){var e=i.length,l,g,n,f,h;if(0!==e%2){throw Error()}j=j||[0];k=k||0;h=k>>>3;for(l=0;l<e;l+=2){g=parseInt(i.substr(l,2),16);if(isNaN(g)){throw Error()}f=(l>>>1)+h;for(n=f>>>2;j.length<=n;){j.push(0)}j[n]|=g<<8*(3+f%4*-1)}return{value:j,binLen:4*e+k}};break;case"TEXT":c=function(j,i,k){var n,e,p=0,l,o,g,q,f,h;i=i||[0];k=k||0;g=k>>>3;if("UTF8"===d){for(h=3,l=0;l<j.length;l+=1){for(n=j.charCodeAt(l),e=[],128>n?e.push(n):2048>n?(e.push(192|n>>>6),e.push(128|n&63)):55296>n||57344<=n?e.push(224|n>>>12,128|n>>>6&63,128|n&63):(l+=1,n=65536+((n&1023)<<10|j.charCodeAt(l)&1023),e.push(240|n>>>18,128|n>>>12&63,128|n>>>6&63,128|n&63)),o=0;o<e.length;o+=1){f=p+g;for(q=f>>>2;i.length<=q;){i.push(0)}i[q]|=e[o]<<8*(h+f%4*-1);p+=1}}}else{if("UTF16BE"===d||"UTF16LE"===d){for(h=2,e="UTF16LE"===d&&!0||"UTF16LE"!==d&&!1,l=0;l<j.length;l+=1){n=j.charCodeAt(l);!0===e&&(o=n&255,n=o<<8|n>>>8);f=p+g;for(q=f>>>2;i.length<=q;){i.push(0)}i[q]|=n<<8*(h+f%4*-1);p+=2}}}return{value:i,binLen:8*p+k}};break;case"B64":c=function(i,j,k){var o=0,l,e,n,p,h,f,g;if(-1===i.search(/^[a-zA-Z0-9=+\/]+$/)){throw Error()}e=i.indexOf("=");i=i.replace(/\=/g,"");if(-1!==e&&e<i.length){throw Error()}j=j||[0];k=k||0;f=k>>>3;for(e=0;e<i.length;e+=4){h=i.substr(e,4);for(n=p=0;n<h.length;n+=1){l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(h[n]),p|=l<<18-6*n}for(n=0;n<h.length-1;n+=1){g=o+f;for(l=g>>>2;j.length<=l;){j.push(0)}j[l]|=(p>>>16-8*n&255)<<8*(3+g%4*-1);o+=1}}return{value:j,binLen:8*o+k}};break;case"BYTES":c=function(l,e,f){var h,g,k,i,j;e=e||[0];f=f||0;k=f>>>3;for(g=0;g<l.length;g+=1){h=l.charCodeAt(g),j=g+k,i=j>>>2,e.length<=i&&e.push(0),e[i]|=h<<8*(3+j%4*-1)}return{value:e,binLen:8*l.length+f}};break;case"ARRAYBUFFER":try{c=new ArrayBuffer(0)}catch(a){throw Error()}c=function(l,e,f){var h,g,k,i,j;e=e||[0];f=f||0;g=f>>>3;j=new Uint8Array(l);for(h=0;h<l.byteLength;h+=1){i=h+g,k=i>>>2,e.length<=k&&e.push(0),e[k]|=j[h]<<8*(3+i%4*-1)}return{value:e,binLen:8*l.byteLength+f}};break;default:throw Error()}return c}function x(b,a){return b>>>a|b<<32-a}function J(b,a,c){return b&a^~b&c}function K(b,a,c){return b&a^b&c^a&c}function L(a){return x(a,2)^x(a,13)^x(a,22)}function M(a){return x(a,6)^x(a,11)^x(a,25)}function N(a){return x(a,7)^x(a,18)^a>>>3}function O(a){return x(a,17)^x(a,19)^a>>>10}function P(b,a){var c=(b&65535)+(a&65535);return((b>>>16)+(a>>>16)+(c>>>16)&65535)<<16|c&65535}function Q(c,d,b,e){var a=(c&65535)+(d&65535)+(b&65535)+(e&65535);return((c>>>16)+(d>>>16)+(b>>>16)+(e>>>16)+(a>>>16)&65535)<<16|a&65535}function R(f,d,c,e,b){var a=(f&65535)+(d&65535)+(c&65535)+(e&65535)+(b&65535);return((f>>>16)+(d>>>16)+(c>>>16)+(e>>>16)+(b>>>16)+(a>>>16)&65535)<<16|a&65535}function I(b){var a=[],c;if(0===b.lastIndexOf("SHA-",0)){switch(a=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],c=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],b){case"SHA-224":break;case"SHA-256":a=c;break;case"SHA-384":a=[new m,new m,new m,new m,new m,new m,new m,new m];break;case"SHA-512":a=[new m,new m,new m,new m,new m,new m,new m,new m];break;default:throw Error()}}else{throw Error()}return a}function r(z,v,af){var b,y,ai,ah,d,a,ag,aj,c,h,e,s,k,t,n,u,f,g,i,j,l,o,p=[],q;if("SHA-224"===af||"SHA-256"===af){h=64,s=1,o=Number,k=P,t=Q,n=R,u=N,f=O,g=L,i=M,l=K,j=J,q=G}else{throw Error()}af=v[0];b=v[1];y=v[2];ai=v[3];ah=v[4];d=v[5];a=v[6];ag=v[7];for(e=0;e<h;e+=1){16>e?(c=e*s,aj=z.length<=c?0:z[c],c=z.length<=c+1?0:z[c+1],p[e]=new o(aj,c)):p[e]=t(f(p[e-2]),p[e-7],u(p[e-15]),p[e-16]),aj=n(ag,i(ah),j(ah,d,a),q[e],p[e]),c=k(g(af),l(af,b,y)),ag=a,a=d,d=ah,ah=k(ai,aj),ai=y,y=b,b=af,af=k(aj,c)}v[0]=k(af,v[0]);v[1]=k(b,v[1]);v[2]=k(y,v[2]);v[3]=k(ai,v[3]);v[4]=k(ah,v[4]);v[5]=k(d,v[5]);v[6]=k(a,v[6]);v[7]=k(ag,v[7]);return v}var G;G=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];"function"===typeof define&&define.amd?define(function(){return F}):"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(module.exports=F),exports=F):H.jsSHA=F})(this);