!function(b,a){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(c){a(b,c)}):"object"==typeof module&&module.exports?module.exports=a(b,require("jquery")):b.jQueryBridget=a(b,b.jQuery)}(window,function(b,a){function f(l,k,i){function m(p,e,u){var s,q="$()."+l+'("'+e+'")';return p.each(function(o,v){var r=i.data(v,l);if(!r){return void c(l+" not initialized. Cannot call methods, i.e. "+q)}var n=r[e];if(!n||"_"==e.charAt(0)){return void c(q+" is not a valid method")}var w=n.apply(r,u);s=void 0===s?w:s}),void 0!==s?s:p}function j(n,e){n.each(function(p,r){var q=i.data(r,l);q?(q.option(e),q._init()):(q=new k(r,e),i.data(r,l,q))})}i=i||a||b.jQuery,i&&(k.prototype.option||(k.prototype.option=function(e){i.isPlainObject(e)&&(this.options=i.extend(!0,this.options,e))}),i.fn[l]=function(n){if("string"==typeof n){var e=g.call(arguments,1);return m(this,n,e)}return j(this,n),this},h(i))}function h(e){!e||e&&e.bridget||(e.bridget=f)}var g=Array.prototype.slice,d=b.console,c="undefined"==typeof d?function(){}:function(e){d.error(e)};return h(a||b.jQuery),f}),function(b,a){"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return a()}):"object"==typeof module&&module.exports?module.exports=a():b.getSize=a()}(window,function(){function q(d){var a=parseFloat(d),h=-1==d.indexOf("%")&&!isNaN(a);return h&&a}function g(){}function k(){for(var d={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},a=0;j>a;a++){var h=l[a];d[h]=0}return d}function f(d){var a=getComputedStyle(d);return a||m("Style returned "+a+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),a}function c(){if(!p){p=!0;var a=document.createElement("div");a.style.width="200px",a.style.padding="1px 2px 3px 4px",a.style.borderStyle="solid",a.style.borderWidth="1px 2px 3px 4px",a.style.boxSizing="border-box";var d=document.body||document.documentElement;d.appendChild(a);var h=f(a);b.isBoxSizeOuter=v=200==q(h.width),d.removeChild(a)}}function b(o){if(c(),"string"==typeof o&&(o=document.querySelector(o)),o&&"object"==typeof o&&o.nodeType){var d=f(o);if("none"==d.display){return k()}var D={};D.width=o.offsetWidth,D.height=o.offsetHeight;for(var H=D.isBorderBox="border-box"==d.boxSizing,z=0;j>z;z++){var e=l[z],w=d[e],t=parseFloat(w);D[e]=isNaN(t)?0:t}var n=D.paddingLeft+D.paddingRight,G=D.paddingTop+D.paddingBottom,h=D.marginLeft+D.marginRight,B=D.marginTop+D.marginBottom,A=D.borderLeftWidth+D.borderRightWidth,s=D.borderTopWidth+D.borderBottomWidth,I=H&&v,F=q(d.width);F!==!1&&(D.width=F+(I?0:n+A));var C=q(d.height);return C!==!1&&(D.height=C+(I?0:G+s)),D.innerWidth=D.width-(n+A),D.innerHeight=D.height-(G+s),D.outerWidth=D.width+h,D.outerHeight=D.height+B,D}}var v,m="undefined"==typeof console?g:function(a){console.error(a)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],j=l.length,p=!1;return b}),function(b,a){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",a):"object"==typeof module&&module.exports?module.exports=a():b.EvEmitter=a()}("undefined"!=typeof window?window:this,function(){function b(){}var a=b.prototype;return a.on=function(d,c){if(d&&c){var f=this._events=this._events||{},g=f[d]=f[d]||[];return -1==g.indexOf(c)&&g.push(c),this}},a.once=function(d,c){if(d&&c){this.on(d,c);var f=this._onceEvents=this._onceEvents||{},g=f[d]=f[d]||{};return g[c]=!0,this}},a.off=function(d,c){var f=this._events&&this._events[d];if(f&&f.length){var g=f.indexOf(c);return -1!=g&&f.splice(g,1),this}},a.emitEvent=function(d,c){var h=this._events&&this._events[d];if(h&&h.length){var k=0,j=h[k];c=c||[];for(var g=this._onceEvents&&this._onceEvents[d];j;){var f=g&&g[j];f&&(this.off(d,j),delete g[j]),j.apply(this,c),k+=f?0:1,j=h[k]}return this}},b}),function(b,a){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(c){return a(b,c)}):"object"==typeof module&&module.exports?module.exports=a(b,require("ev-emitter")):b.Unipointer=a(b,b.EvEmitter)}(window,function(b,a){function d(){}function g(){}var f=g.prototype=Object.create(a.prototype);f.bindStartEvent=function(e){this._bindStartEvent(e,!0)},f.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},f._bindStartEvent=function(h,j){j=void 0===j?!0:!!j;var k=j?"addEventListener":"removeEventListener";b.navigator.pointerEnabled?h[k]("pointerdown",this):b.navigator.msPointerEnabled?h[k]("MSPointerDown",this):(h[k]("mousedown",this),h[k]("touchstart",this))},f.handleEvent=function(h){var e="on"+h.type;this[e]&&this[e](h)},f.getTouch=function(j){for(var h=0;h<j.length;h++){var k=j[h];if(k.identifier==this.pointerIdentifier){return k}}},f.onmousedown=function(h){var e=h.button;e&&0!==e&&1!==e||this._pointerDown(h,h)},f.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},f.onMSPointerDown=f.onpointerdown=function(e){this._pointerDown(e,e)},f._pointerDown=function(h,e){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(h,e))},f.pointerDown=function(h,e){this._bindPostStartEvents(h),this.emitEvent("pointerDown",[h,e])};var c={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return f._bindPostStartEvents=function(h){if(h){var j=c[h.type];j.forEach(function(e){b.addEventListener(e,this)},this),this._boundPointerEvents=j}},f._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){b.removeEventListener(e,this)},this),delete this._boundPointerEvents)},f.onmousemove=function(e){this._pointerMove(e,e)},f.onMSPointerMove=f.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},f.ontouchmove=function(h){var e=this.getTouch(h.changedTouches);e&&this._pointerMove(h,e)},f._pointerMove=function(h,e){this.pointerMove(h,e)},f.pointerMove=function(h,e){this.emitEvent("pointerMove",[h,e])},f.onmouseup=function(e){this._pointerUp(e,e)},f.onMSPointerUp=f.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},f.ontouchend=function(h){var e=this.getTouch(h.changedTouches);e&&this._pointerUp(h,e)},f._pointerUp=function(h,e){this._pointerDone(),this.pointerUp(h,e)},f.pointerUp=function(h,e){this.emitEvent("pointerUp",[h,e])},f._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},f.pointerDone=d,f.onMSPointerCancel=f.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},f.ontouchcancel=function(h){var e=this.getTouch(h.changedTouches);e&&this._pointerCancel(h,e)},f._pointerCancel=function(h,e){this._pointerDone(),this.pointerCancel(h,e)},f.pointerCancel=function(h,e){this.emitEvent("pointerCancel",[h,e])},g.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},g}),function(b,a){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(c){return a(b,c)}):"object"==typeof module&&module.exports?module.exports=a(b,require("unipointer")):b.Unidragger=a(b,b.Unipointer)}(window,function(b,a){function d(){}function g(){}var f=g.prototype=Object.create(a.prototype);f.bindHandles=function(){this._bindHandles(!0)},f.unbindHandles=function(){this._bindHandles(!1)};var c=b.navigator;return f._bindHandles=function(h){h=void 0===h?!0:!!h;var e;e=c.pointerEnabled?function(m){m.style.touchAction=h?"none":""}:c.msPointerEnabled?function(m){m.style.msTouchAction=h?"none":""}:d;for(var l=h?"addEventListener":"removeEventListener",k=0;k<this.handles.length;k++){var j=this.handles[k];this._bindStartEvent(j,h),e(j),j[l]("click",this)}},f.pointerDown=function(j,h){if("INPUT"==j.target.nodeName&&"range"==j.target.type){return this.isPointerDown=!1,void delete this.pointerIdentifier}this._dragPointerDown(j,h);var k=document.activeElement;k&&k.blur&&k.blur(),this._bindPostStartEvents(j),this.emitEvent("pointerDown",[j,h])},f._dragPointerDown=function(h,i){this.pointerDownPoint=a.getPointerPoint(i);var j=this.canPreventDefaultOnPointerDown(h,i);j&&h.preventDefault()},f.canPreventDefaultOnPointerDown=function(e){return"SELECT"!=e.target.nodeName},f.pointerMove=function(j,h){var k=this._dragPointerMove(j,h);this.emitEvent("pointerMove",[j,h,k]),this._dragMove(j,h,k)},f._dragPointerMove=function(h,i){var k=a.getPointerPoint(i),j={x:k.x-this.pointerDownPoint.x,y:k.y-this.pointerDownPoint.y};return !this.isDragging&&this.hasDragStarted(j)&&this._dragStart(h,i),j},f.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},f.pointerUp=function(h,e){this.emitEvent("pointerUp",[h,e]),this._dragPointerUp(h,e)},f._dragPointerUp=function(h,e){this.isDragging?this._dragEnd(h,e):this._staticClick(h,e)},f._dragStart=function(h,i){this.isDragging=!0,this.dragStartPoint=a.getPointerPoint(i),this.isPreventingClicks=!0,this.dragStart(h,i)},f.dragStart=function(h,e){this.emitEvent("dragStart",[h,e])},f._dragMove=function(j,h,k){this.isDragging&&this.dragMove(j,h,k)},f.dragMove=function(j,h,k){j.preventDefault(),this.emitEvent("dragMove",[j,h,k])},f._dragEnd=function(h,e){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(h,e)},f.dragEnd=function(h,e){this.emitEvent("dragEnd",[h,e])},f.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},f._staticClick=function(j,h){if(!this.isIgnoringMouseUp||"mouseup"!=j.type){var k=j.target.nodeName;("INPUT"==k||"TEXTAREA"==k)&&j.target.focus(),this.staticClick(j,h),"mouseup"!=j.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400))}},f.staticClick=function(h,e){this.emitEvent("staticClick",[h,e])},g.getPointerPoint=a.getPointerPoint,g}),function(b,a){"function"==typeof define&&define.amd?define(["get-size/get-size","unidragger/unidragger"],function(c,d){return a(b,c,d)}):"object"==typeof module&&module.exports?module.exports=a(b,require("get-size"),require("unidragger")):b.Draggabilly=a(b,b.getSize,b.Unidragger)}(window,function(E,v,z){function m(){}function k(c,a){for(var d in a){c[d]=a[d]}return c}function b(a){return a instanceof HTMLElement}function F(c,a){this.element="string"==typeof c?A.querySelector(c):c,y&&(this.$element=y(this.element)),this.options=k({},this.constructor.defaults),this.option(a),this._create()}function C(c,a,d){return d=d||"round",a?Math[d](c/a)*a:c}var A=E.document,w=E.requestAnimationFrame||E.webkitRequestAnimationFrame||E.mozRequestAnimationFrame,D=0;w||(w=function(c){var a=(new Date).getTime(),d=Math.max(0,16-(a-D)),f=setTimeout(c,d);return D=a+d,f});var B=A.documentElement,j="string"==typeof B.style.transform?"transform":"WebkitTransform",y=E.jQuery,x=F.prototype=Object.create(z.prototype);F.defaults={},x.option=function(a){k(this.options,a)};var q={relative:!0,absolute:!0,fixed:!0};return x._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=k({},this.position);var a=getComputedStyle(this.element);q[a.position]||(this.element.style.position="relative"),this.enable(),this.setHandles()},x.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles()},x.dispatchEvent=function(a,f,h){var g=[f].concat(h);this.emitEvent(a,g);var d=E.jQuery;if(d&&this.$element){if(f){var c=d.Event(f);c.type=a,this.$element.trigger(c,h)}else{this.$element.trigger(a,h)}}},x._getPosition=function(){var c=getComputedStyle(this.element),a=this._getPositionCoord(c.left,"width"),d=this._getPositionCoord(c.top,"height");this.position.x=isNaN(a)?0:a,this.position.y=isNaN(d)?0:d,this._addTransformPosition(c)},x._getPositionCoord=function(a,c){if(-1!=a.indexOf("%")){var d=v(this.element.parentNode);return d?parseFloat(a)/100*d[c]:0}return parseInt(a,10)},x._addTransformPosition=function(c){var a=c[j];if(0===a.indexOf("matrix")){var f=a.split(","),h=0===a.indexOf("matrix3d")?12:4,g=parseInt(f[h],10),d=parseInt(f[h+1],10);this.position.x+=g,this.position.y+=d}},x.pointerDown=function(c,a){this._dragPointerDown(c,a);var d=A.activeElement;d&&d.blur&&d!=A.body&&d.blur(),this._bindPostStartEvents(c),this.element.classList.add("is-pointer-down"),this.dispatchEvent("pointerDown",c,[a])},x.pointerMove=function(c,a){var d=this._dragPointerMove(c,a);this.dispatchEvent("pointerMove",c,[a,d]),this._dragMove(c,a,d)},x.dragStart=function(c,a){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.dispatchEvent("dragStart",c,[a]),this.animate())},x.measureContainment=function(){var G=this.options.containment;if(G){var i=b(G)?G:"string"==typeof G?A.querySelector(G):this.element.parentNode,f=v(this.element),d=v(i),H=this.element.getBoundingClientRect(),p=i.getBoundingClientRect(),g=d.borderLeftWidth+d.borderRightWidth,r=d.borderTopWidth+d.borderBottomWidth,l=this.relativeStartPosition={x:H.left-(p.left+d.borderLeftWidth),y:H.top-(p.top+d.borderTopWidth)};this.containSize={width:d.width-g-l.x-f.width,height:d.height-r-l.y-f.height}}},x.dragMove=function(c,a,h){if(this.isEnabled){var u=h.x,p=h.y,g=this.options.grid,f=g&&g[0],l=g&&g[1];u=C(u,f),p=C(p,l),u=this.containDrag("x",u,f),p=this.containDrag("y",p,l),u="y"==this.options.axis?0:u,p="x"==this.options.axis?0:p,this.position.x=this.startPosition.x+u,this.position.y=this.startPosition.y+p,this.dragPoint.x=u,this.dragPoint.y=p,this.dispatchEvent("dragMove",c,[a,h])}},x.containDrag=function(c,a,g){if(!this.options.containment){return a}var l="x"==c?"width":"height",h=this.relativeStartPosition[c],f=C(-h,g,"ceil"),d=this.containSize[l];return d=C(d,g,"floor"),Math.min(d,Math.max(f,a))},x.pointerUp=function(c,a){this.element.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",c,[a]),this._dragPointerUp(c,a)},x.dragEnd=function(c,a){this.isEnabled&&(j&&(this.element.style[j]="",this.setLeftTop()),this.element.classList.remove("is-dragging"),this.dispatchEvent("dragEnd",c,[a]))},x.animate=function(){if(this.isDragging){this.positionDrag();var a=this;w(function(){a.animate()})}},x.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},x.positionDrag=function(){this.element.style[j]="translate3d( "+this.dragPoint.x+"px, "+this.dragPoint.y+"px, 0)"},x.staticClick=function(c,a){this.dispatchEvent("staticClick",c,[a])},x.enable=function(){this.isEnabled=!0},x.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},x.destroy=function(){this.disable(),this.element.style[j]="",this.element.style.left="",this.element.style.top="",this.element.style.position="",this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},x._init=m,y&&y.bridget&&y.bridget("draggabilly",F),F});