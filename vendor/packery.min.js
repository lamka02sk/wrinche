!function(a,b){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(c){b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("jquery")):a.jQueryBridget=b(a,a.jQuery)}(window,function(b,f){function a(k,m,e){function l(i,q,u){var r,p="$()."+k+'("'+q+'")';return i.each(function(o,s){var n=e.data(s,k);if(!n){return void d(k+" not initialized. Cannot call methods, i.e. "+p)}var w=n[q];if(!w||"_"==q.charAt(0)){return void d(p+" is not a valid method")}var v=w.apply(n,u);r=void 0===r?v:r}),void 0!==r?r:i}function j(i,n){i.each(function(p,r){var q=e.data(r,k);q?(q.option(n),q._init()):(q=new m(r,n),e.data(r,k,q))})}e=e||f||b.jQuery,e&&(m.prototype.option||(m.prototype.option=function(i){e.isPlainObject(i)&&(this.options=e.extend(!0,this.options,i))}),e.fn[k]=function(i){if("string"==typeof i){var n=g.call(arguments,1);return l(this,i,n)}return j(this,i),this},h(e))}function h(e){!e||e&&e.bridget||(e.bridget=a)}var g=Array.prototype.slice,c=b.console,d="undefined"==typeof c?function(){}:function(e){c.error(e)};return h(f||b.jQuery),a}),function(a,b){"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return b()}):"object"==typeof module&&module.exports?module.exports=b():a.getSize=b()}(window,function(){function q(c){var h=parseFloat(c),a=-1==c.indexOf("%")&&!isNaN(h);return a&&h}function k(){}function g(){for(var c={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},h=0;p>h;h++){var a=j[h];c[a]=0}return c}function f(a){var c=getComputedStyle(a);return c||m("Style returned "+c+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),c}function d(){if(!l){l=!0;var c=document.createElement("div");c.style.width="200px",c.style.padding="1px 2px 3px 4px",c.style.borderStyle="solid",c.style.borderWidth="1px 2px 3px 4px",c.style.boxSizing="border-box";var a=document.body||document.documentElement;a.appendChild(c);var h=f(c);v.isBoxSizeOuter=b=200==q(h.width),a.removeChild(c)}}function v(u){if(d(),"string"==typeof u&&(u=document.querySelector(u)),u&&"object"==typeof u&&u.nodeType){var I=f(u);if("none"==I.display){return g()}var D={};D.width=u.offsetWidth,D.height=u.offsetHeight;for(var z=D.isBorderBox="border-box"==I.boxSizing,w=0;p>w;w++){var t=j[w],n=I[t],h=parseFloat(n);D[t]=isNaN(h)?0:h}var r=D.paddingLeft+D.paddingRight,i=D.paddingTop+D.paddingBottom,B=D.marginLeft+D.marginRight,G=D.marginTop+D.marginBottom,F=D.borderLeftWidth+D.borderRightWidth,C=D.borderTopWidth+D.borderBottomWidth,A=z&&b,H=q(I.width);H!==!1&&(D.width=H+(A?0:r+F));var o=q(I.height);return o!==!1&&(D.height=o+(A?0:i+C)),D.innerWidth=D.width-(r+F),D.innerHeight=D.height-(i+C),D.outerWidth=D.width+B,D.outerHeight=D.height+G,D}}var b,m="undefined"==typeof console?k:function(a){console.error(a)},j=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],p=j.length,l=!1;return v}),function(a,b){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",b):"object"==typeof module&&module.exports?module.exports=b():a.EvEmitter=b()}(this,function(){function a(){}var b=a.prototype;return b.on=function(d,f){if(d&&f){var c=this._events=this._events||{},g=c[d]=c[d]||[];return -1==g.indexOf(f)&&g.push(f),this}},b.once=function(d,f){if(d&&f){this.on(d,f);var c=this._onceEvents=this._onceEvents||{},g=c[d]=c[d]||{};return g[f]=!0,this}},b.off=function(d,f){var c=this._events&&this._events[d];if(c&&c.length){var g=c.indexOf(f);return -1!=g&&c.splice(g,1),this}},b.emitEvent=function(d,h){var c=this._events&&this._events[d];if(c&&c.length){var k=0,j=c[k];h=h||[];for(var f=this._onceEvents&&this._onceEvents[d];j;){var g=f&&f[j];g&&(this.off(d,j),delete f[j]),j.apply(this,h),k+=g?0:1,j=c[k]}return this}},a}),function(a,b){"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",b):"object"==typeof module&&module.exports?module.exports=b():a.matchesSelector=b()}(window,function(){var a=function(){var c=Element.prototype;if(c.matches){return"matches"}if(c.matchesSelector){return"matchesSelector"}for(var d=["webkit","moz","ms","o"],b=0;b<d.length;b++){var g=d[b],f=g+"MatchesSelector";if(c[f]){return f}}}();return function(c,b){return c[a](b)}}),function(a,b){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("desandro-matches-selector")):a.fizzyUIUtils=b(a,a.matchesSelector)}(window,function(b,c){var a={};a.extend=function(g,h){for(var f in h){g[f]=h[f]}return g},a.modulo=function(f,g){return(f%g+g)%g},a.makeArray=function(g){var h=[];if(Array.isArray(g)){h=g}else{if(g&&"number"==typeof g.length){for(var f=0;f<g.length;f++){h.push(g[f])}}else{h.push(g)}}return h},a.removeFrom=function(g,h){var f=g.indexOf(h);-1!=f&&g.splice(f,1)},a.getParent=function(f,e){for(;f!=document.body;){if(f=f.parentNode,c(f,e)){return f}}},a.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},a.handleEvent=function(f){var g="on"+f.type;this[g]&&this[g](f)},a.filterFindElements=function(e,g){e=a.makeArray(e);var f=[];return e.forEach(function(j){if(j instanceof HTMLElement){if(!g){return void f.push(j)}c(j,g)&&f.push(j);for(var h=j.querySelectorAll(g),k=0;k<h.length;k++){f.push(h[k])}}}),f},a.debounceMethod=function(g,h,f){var k=g.prototype[h],j=h+"Timeout";g.prototype[h]=function(){var i=this[j];i&&clearTimeout(i);var m=arguments,l=this;this[j]=setTimeout(function(){k.apply(l,m),delete l[j]},f||100)}},a.docReady=function(e){"complete"==document.readyState?e():document.addEventListener("DOMContentLoaded",e)},a.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(g,h,f){return h+"-"+f}).toLowerCase()};var d=b.console;return a.htmlInit=function(f,g){a.docReady(function(){var k=a.toDashed(g),l="data-"+k,e=document.querySelectorAll("["+l+"]"),j=document.querySelectorAll(".js-"+k),i=a.makeArray(e).concat(a.makeArray(j)),n=l+"-options",m=b.jQuery;i.forEach(function(q){var p,u=q.getAttribute(l)||q.getAttribute(n);try{p=u&&JSON.parse(u)}catch(o){return void (d&&d.error("Error parsing "+l+" on "+q.className+": "+o))}var r=new f(q,p);m&&m.data(q,g,r)})})},a}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],b):"object"==typeof module&&module.exports?module.exports=b(require("ev-emitter"),require("get-size")):(a.Outlayer={},a.Outlayer.Item=b(a.EvEmitter,a.getSize))}(window,function(A,v){function m(a){for(var c in a){return !1}return c=null,!0}function j(a,c){a&&(this.element=a,this.layout=c,this.position={x:0,y:0},this._create())}function g(a){return a.replace(/([A-Z])/g,function(c){return"-"+c.toLowerCase()})}var B=document.documentElement.style,b="string"==typeof B.transition?"transition":"WebkitTransition",y="string"==typeof B.transform?"transform":"WebkitTransform",p={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[b],z={transform:y,transition:b,transitionDuration:b+"Duration",transitionProperty:b+"Property",transitionDelay:b+"Delay"},x=j.prototype=Object.create(A.prototype);x.constructor=j,x._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},x.handleEvent=function(a){var c="on"+a.type;this[c]&&this[c](a)},x.getSize=function(){this.size=v(this.element)},x.css=function(c){var d=this.element.style;for(var a in c){var f=z[a]||a;d[f]=c[a]}},x.getPosition=function(){var f=getComputedStyle(this.element),u=this.layout._getOption("originLeft"),d=this.layout._getOption("originTop"),D=f[u?"left":"right"],C=f[d?"top":"bottom"],h=this.layout.size,l=-1!=D.indexOf("%")?parseFloat(D)/100*h.width:parseInt(D,10),c=-1!=C.indexOf("%")?parseFloat(C)/100*h.height:parseInt(C,10);l=isNaN(l)?0:l,c=isNaN(c)?0:c,l-=u?h.paddingLeft:h.paddingRight,c-=d?h.paddingTop:h.paddingBottom,this.position.x=l,this.position.y=c},x.layoutPosition=function(){var K=this.layout.size,F={},D=this.layout._getOption("originLeft"),C=this.layout._getOption("originTop"),l=D?"paddingLeft":"paddingRight",L=D?"left":"right",f=D?"right":"left",I=this.position.x+K[l];F[L]=this.getXValue(I),F[f]="";var E=C?"paddingTop":"paddingBottom",J=C?"top":"bottom",H=C?"bottom":"top",G=this.position.y+K[E];F[J]=this.getYValue(G),F[H]="",this.css(F),this.emitEvent("layout",[this])},x.getXValue=function(a){var c=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!c?a/this.layout.size.width*100+"%":a+"px"},x.getYValue=function(a){var c=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&c?a/this.layout.size.height*100+"%":a+"px"},x._transitionTo=function(G,D){this.getPosition();var l=this.position.x,f=this.position.y,d=parseInt(G,10),H=parseInt(D,10),c=d===this.position.x&&H===this.position.y;if(this.setPosition(G,D),c&&!this.isTransitioning){return void this.layoutPosition()}var E=G-l,C=D-f,F={};F.transform=this.getTranslate(E,C),this.transition({to:F,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},x.getTranslate=function(c,d){var a=this.layout._getOption("originLeft"),f=this.layout._getOption("originTop");return c=a?c:-c,d=f?d:-d,"translate3d("+c+"px, "+d+"px, 0)"},x.goTo=function(a,c){this.setPosition(a,c),this.layoutPosition()},x.moveTo=x._transitionTo,x.setPosition=function(a,c){this.position.x=parseInt(a,10),this.position.y=parseInt(c,10)},x._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var c in a.onTransitionEnd){a.onTransitionEnd[c].call(this)}},x.transition=function(c){if(!parseFloat(this.layout.options.transitionDuration)){return void this._nonTransition(c)}var d=this._transn;for(var a in c.onTransitionEnd){d.onEnd[a]=c.onTransitionEnd[a]}for(a in c.to){d.ingProperties[a]=!0,c.isCleaning&&(d.clean[a]=!0)}if(c.from){this.css(c.from);var f=this.element.offsetHeight;f=null}this.enableTransition(c.to),this.css(c.to),this.isTransitioning=!0};var w="opacity,"+g(y);x.enableTransition=function(){if(!this.isTransitioning){var a=this.layout.options.transitionDuration;a="number"==typeof a?a+"ms":a,this.css({transitionProperty:w,transitionDuration:a,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(p,this,!1)}},x.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},x.onotransitionend=function(a){this.ontransitionend(a)};var q={"-webkit-transform":"transform"};x.ontransitionend=function(a){if(a.target===this.element){var c=this._transn,f=q[a.propertyName]||a.propertyName;if(delete c.ingProperties[f],m(c.ingProperties)&&this.disableTransition(),f in c.clean&&(this.element.style[a.propertyName]="",delete c.clean[f]),f in c.onEnd){var d=c.onEnd[f];d.call(this),delete c.onEnd[f]}this.emitEvent("transitionEnd",[this])}},x.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(p,this,!1),this.isTransitioning=!1},x._removeStyles=function(c){var d={};for(var a in c){d[a]=""}this.css(d)};var k={transitionProperty:"",transitionDuration:"",transitionDelay:""};return x.removeTransitionStyles=function(){this.css(k)},x.stagger=function(a){a=isNaN(a)?0:a,this.staggerDelay=a+"ms"},x.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},x.remove=function(){return b&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},x.reveal=function(){delete this.isHidden,this.css({display:""});var c=this.layout.options,d={},a=this.getHideRevealTransitionEndProperty("visibleStyle");d[a]=this.onRevealTransitionEnd,this.transition({from:c.hiddenStyle,to:c.visibleStyle,isCleaning:!0,onTransitionEnd:d})},x.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},x.getHideRevealTransitionEndProperty=function(c){var d=this.layout.options[c];if(d.opacity){return"opacity"}for(var a in d){return a}},x.hide=function(){this.isHidden=!0,this.css({display:""});var c=this.layout.options,d={},a=this.getHideRevealTransitionEndProperty("hiddenStyle");d[a]=this.onHideTransitionEnd,this.transition({from:c.visibleStyle,to:c.hiddenStyle,isCleaning:!0,onTransitionEnd:d})},x.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},x.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},j}),function(a,b){"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(c,f,e,d){return b(a,c,f,e,d)}):"object"==typeof module&&module.exports?module.exports=b(a,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):a.Outlayer=b(a,a.EvEmitter,a.getSize,a.fizzyUIUtils,a.Outlayer.Item)}(window,function(C,x,q,k,j){function D(c,f){var a=k.getQueryElement(c);if(!a){return void (v&&v.error("Bad element for "+this.constructor.namespace+": "+(a||c)))}this.element=a,B&&(this.$element=B(this.element)),this.options=k.extend({},this.constructor.defaults),this.option(f);var h=++y;this.element.outlayerGUID=h,w[h]=this,this._create();var d=this._getOption("initLayout");d&&this.layout()}function b(a){function c(){a.apply(this,arguments)}return c.prototype=Object.create(a.prototype),c.prototype.constructor=c,c}function A(c){if("number"==typeof c){return c}var d=c.match(/(^\d*\.?\d*)(\w*)/),a=d&&d[1],h=d&&d[2];if(!a.length){return 0}a=parseFloat(a);var f=g[h]||1;return a*f}var v=C.console,B=C.jQuery,z=function(){},y=0,w={};D.namespace="outlayer",D.Item=j,D.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var m=D.prototype;k.extend(m,x.prototype),m.option=function(a){k.extend(this.options,a)},m._getOption=function(a){var c=this.constructor.compatOptions[a];return c&&void 0!==this.options[c]?this.options[c]:this.options[a]},D.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},m._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),k.extend(this.element.style,this.options.containerStyle);var a=this._getOption("resize");a&&this.bindResize()},m.reloadItems=function(){this.items=this._itemize(this.element.children)},m._itemize=function(c){for(var h=this._filterFindItemElements(c),a=this.constructor.Item,p=[],l=0;l<h.length;l++){var d=h[l],f=new a(d,this);p.push(f)}return p},m._filterFindItemElements=function(a){return k.filterFindElements(a,this.options.itemSelector)},m.getItemElements=function(){return this.items.map(function(a){return a.element})},m.layout=function(){this._resetLayout(),this._manageStamps();var a=this._getOption("layoutInstant"),c=void 0!==a?a:!this._isLayoutInited;this.layoutItems(this.items,c),this._isLayoutInited=!0},m._init=m.layout,m._resetLayout=function(){this.getSize()},m.getSize=function(){this.size=q(this.element)},m._getMeasurement=function(a,c){var f,d=this.options[a];d?("string"==typeof d?f=this.element.querySelector(d):d instanceof HTMLElement&&(f=d),this[a]=f?q(f)[c]:d):this[a]=0},m.layoutItems=function(a,c){a=this._getItemsForLayout(a),this._layoutItems(a,c),this._postLayout()},m._getItemsForLayout=function(a){return a.filter(function(c){return !c.isIgnored})},m._layoutItems=function(c,d){if(this._emitCompleteOnItems("layout",c),c&&c.length){var a=[];c.forEach(function(e){var f=this._getItemLayoutPosition(e);f.item=e,f.isInstant=d||e.isLayoutInstant,a.push(f)},this),this._processLayoutQueue(a)}},m._getItemLayoutPosition=function(){return{x:0,y:0}},m._processLayoutQueue=function(a){this.updateStagger(),a.forEach(function(c,d){this._positionItem(c.item,c.x,c.y,c.isInstant,d)},this)},m.updateStagger=function(){var a=this.options.stagger;return null===a||void 0===a?void (this.stagger=0):(this.stagger=A(a),this.stagger)},m._positionItem=function(c,d,a,h,f){h?c.goTo(d,a):(c.stagger(f*this.stagger),c.moveTo(d,a))},m._postLayout=function(){this.resizeContainer()},m.resizeContainer=function(){var a=this._getOption("resizeContainer");if(a){var c=this._getContainerSize();c&&(this._setContainerMeasure(c.width,!0),this._setContainerMeasure(c.height,!1))}},m._getContainerSize=z,m._setContainerMeasure=function(c,d){if(void 0!==c){var a=this.size;a.isBorderBox&&(c+=d?a.paddingLeft+a.paddingRight+a.borderLeftWidth+a.borderRightWidth:a.paddingBottom+a.paddingTop+a.borderTopWidth+a.borderBottomWidth),c=Math.max(c,0),this.element.style[d?"width":"height"]=c+"px"}},m._emitCompleteOnItems=function(c,h){function a(){l.dispatchEvent(c+"Complete",null,[h])}function p(){f++,f==d&&a()}var l=this,d=h.length;if(!h||!d){return void a()}var f=0;h.forEach(function(i){i.once(c,p)})},m.dispatchEvent=function(c,d,a){var h=d?[d].concat(a):a;if(this.emitEvent(c,h),B){if(this.$element=this.$element||B(this.element),d){var f=B.Event(d);f.type=c,this.$element.trigger(f,a)}else{this.$element.trigger(c,a)}}},m.ignore=function(a){var c=this.getItem(a);c&&(c.isIgnored=!0)},m.unignore=function(a){var c=this.getItem(a);c&&delete c.isIgnored},m.stamp=function(a){a=this._find(a),a&&(this.stamps=this.stamps.concat(a),a.forEach(this.ignore,this))},m.unstamp=function(a){a=this._find(a),a&&a.forEach(function(c){k.removeFrom(this.stamps,c),this.unignore(c)},this)},m._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),a=k.makeArray(a)):void 0},m._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},m._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),c=this.size;this._boundingRect={left:a.left+c.paddingLeft+c.borderLeftWidth,top:a.top+c.paddingTop+c.borderTopWidth,right:a.right-(c.paddingRight+c.borderRightWidth),bottom:a.bottom-(c.paddingBottom+c.borderBottomWidth)}},m._manageStamp=z,m._getElementOffset=function(a){var d=a.getBoundingClientRect(),h=this._boundingRect,f=q(a),c={left:d.left-h.left-f.marginLeft,top:d.top-h.top-f.marginTop,right:h.right-d.right-f.marginRight,bottom:h.bottom-d.bottom-f.marginBottom};return c},m.handleEvent=k.handleEvent,m.bindResize=function(){C.addEventListener("resize",this),this.isResizeBound=!0},m.unbindResize=function(){C.removeEventListener("resize",this),this.isResizeBound=!1},m.onresize=function(){this.resize()},k.debounceMethod(D,"onresize",100),m.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},m.needsResizeLayout=function(){var a=q(this.element),c=this.size&&a;return c&&a.innerWidth!==this.size.innerWidth},m.addItems=function(a){var c=this._itemize(a);return c.length&&(this.items=this.items.concat(c)),c},m.appended=function(a){var c=this.addItems(a);c.length&&(this.layoutItems(c,!0),this.reveal(c))},m.prepended=function(c){var d=this._itemize(c);if(d.length){var a=this.items.slice(0);this.items=d.concat(a),this._resetLayout(),this._manageStamps(),this.layoutItems(d,!0),this.reveal(d),this.layoutItems(a)}},m.reveal=function(a){if(this._emitCompleteOnItems("reveal",a),a&&a.length){var c=this.updateStagger();a.forEach(function(e,d){e.stagger(d*c),e.reveal()})}},m.hide=function(a){if(this._emitCompleteOnItems("hide",a),a&&a.length){var c=this.updateStagger();a.forEach(function(e,d){e.stagger(d*c),e.hide()})}},m.revealItemElements=function(a){var c=this.getItems(a);this.reveal(c)},m.hideItemElements=function(a){var c=this.getItems(a);this.hide(c)},m.getItem=function(c){for(var d=0;d<this.items.length;d++){var a=this.items[d];if(a.element==c){return a}}},m.getItems=function(a){a=k.makeArray(a);var c=[];return a.forEach(function(e){var d=this.getItem(e);d&&c.push(d)},this),c},m.remove=function(a){var c=this.getItems(a);this._emitCompleteOnItems("remove",c),c&&c.length&&c.forEach(function(d){d.remove(),k.removeFrom(this.items,d)},this)},m.destroy=function(){var a=this.element.style;a.height="",a.position="",a.width="",this.items.forEach(function(d){d.destroy()}),this.unbindResize();var c=this.element.outlayerGUID;delete w[c],delete this.element.outlayerGUID,B&&B.removeData(this.element,this.constructor.namespace)},D.data=function(a){a=k.getQueryElement(a);var c=a&&a.outlayerGUID;return c&&w[c]},D.create=function(c,d){var a=b(D);return a.defaults=k.extend({},D.defaults),k.extend(a.defaults,d),a.compatOptions=k.extend({},D.compatOptions),a.namespace=c,a.data=D.data,a.Item=b(j),k.htmlInit(a,c),B&&B.bridget&&B.bridget(c,a),a};var g={ms:1,s:1000};return D.Item=j,D}),function(a,b){"function"==typeof define&&define.amd?define("packery/js/rect",b):"object"==typeof module&&module.exports?module.exports=b():(a.Packery=a.Packery||{},a.Packery.Rect=b())}(window,function(){function a(d){for(var c in a.defaults){this[c]=a.defaults[c]}for(c in d){this[c]=d[c]}}a.defaults={x:0,y:0,width:0,height:0};var b=a.prototype;return b.contains=function(d){var f=d.width||0,c=d.height||0;return this.x<=d.x&&this.y<=d.y&&this.x+this.width>=d.x+f&&this.y+this.height>=d.y+c},b.overlaps=function(d){var f=this.x+this.width,c=this.y+this.height,h=d.x+d.width,g=d.y+d.height;return this.x<h&&f>d.x&&this.y<g&&c>d.y},b.getMaximalFreeRects=function(h){if(!this.overlaps(h)){return !1}var d,k=[],j=this.x+this.width,f=this.y+this.height,g=h.x+h.width,c=h.y+h.height;return this.y<h.y&&(d=new a({x:this.x,y:this.y,width:this.width,height:h.y-this.y}),k.push(d)),j>g&&(d=new a({x:g,y:this.y,width:j-g,height:this.height}),k.push(d)),f>c&&(d=new a({x:this.x,y:c,width:this.width,height:f-c}),k.push(d)),this.x<h.x&&(d=new a({x:this.x,y:this.y,width:h.x-this.x,height:this.height}),k.push(d)),k},b.canFit=function(c){return this.width>=c.width&&this.height>=c.height},a}),function(b,c){if("function"==typeof define&&define.amd){define("packery/js/packer",["./rect"],c)}else{if("object"==typeof module&&module.exports){module.exports=c(require("./rect"))}else{var a=b.Packery=b.Packery||{};a.Packer=c(a.Rect)}}}(window,function(b){function c(g,h,f){this.width=g||0,this.height=h||0,this.sortDirection=f||"downwardLeftToRight",this.reset()}var a=c.prototype;a.reset=function(){this.spaces=[];var f=new b({x:0,y:0,width:this.width,height:this.height});this.spaces.push(f),this.sorter=d[this.sortDirection]||d.downwardLeftToRight},a.pack=function(g){for(var h=0;h<this.spaces.length;h++){var f=this.spaces[h];if(f.canFit(g)){this.placeInSpace(g,f);break}}},a.columnPack=function(g){for(var h=0;h<this.spaces.length;h++){var f=this.spaces[h],j=f.x<=g.x&&f.x+f.width>=g.x+g.width&&f.height>=g.height-0.01;if(j){g.y=f.y,this.placed(g);break}}},a.rowPack=function(g){for(var h=0;h<this.spaces.length;h++){var f=this.spaces[h],j=f.y<=g.y&&f.y+f.height>=g.y+g.height&&f.width>=g.width-0.01;if(j){g.x=f.x,this.placed(g);break}}},a.placeInSpace=function(f,g){f.x=g.x,f.y=g.y,this.placed(f)},a.placed=function(g){for(var h=[],f=0;f<this.spaces.length;f++){var k=this.spaces[f],j=k.getMaximalFreeRects(g);j?h.push.apply(h,j):h.push(k)}this.spaces=h,this.mergeSortSpaces()},a.mergeSortSpaces=function(){c.mergeRects(this.spaces),this.spaces.sort(this.sorter)},a.addSpace=function(e){this.spaces.push(e),this.mergeSortSpaces()},c.mergeRects=function(g){var h=0,f=g[h];g:for(;f;){for(var k=0,j=g[h+k];j;){if(j==f){k++}else{if(j.contains(f)){g.splice(h,1),f=g[h];continue g}f.contains(j)?g.splice(h+k,1):k++}j=g[h+k]}h++,f=g[h]}return g};var d={downwardLeftToRight:function(f,g){return f.y-g.y||f.x-g.x},rightwardTopToBottom:function(f,g){return f.x-g.x||f.y-g.y}};return c}),function(a,b){"function"==typeof define&&define.amd?define("packery/js/item",["outlayer/outlayer","./rect"],b):"object"==typeof module&&module.exports?module.exports=b(require("outlayer"),require("./rect")):a.Packery.Item=b(a.Outlayer,a.Packery.Rect)}(window,function(d,h){var c=document.documentElement.style,k="string"==typeof c.transform?"transform":"WebkitTransform",j=function(){d.Item.apply(this,arguments)},f=j.prototype=Object.create(d.Item.prototype),g=f._create;f._create=function(){g.call(this),this.rect=new h};var b=f.moveTo;return f.moveTo=function(l,m){var a=Math.abs(this.position.x-l),q=Math.abs(this.position.y-m),p=this.layout.dragItemCount&&!this.isPlacing&&!this.isTransitioning&&1>a&&1>q;return p?void this.goTo(l,m):void b.apply(this,arguments)},f.enablePlacing=function(){this.removeTransitionStyles(),this.isTransitioning&&k&&(this.element.style[k]="none"),this.isTransitioning=!1,this.getSize(),this.layout._setRectSize(this.element,this.rect),this.isPlacing=!0},f.disablePlacing=function(){this.isPlacing=!1},f.removeElem=function(){this.element.parentNode.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},f.showDropPlaceholder=function(){var a=this.dropPlaceholder;a||(a=this.dropPlaceholder=document.createElement("div"),a.className="packery-drop-placeholder",a.style.position="absolute"),a.style.width=this.size.width+"px",a.style.height=this.size.height+"px",this.positionDropPlaceholder(),this.layout.element.appendChild(a)},f.positionDropPlaceholder=function(){this.dropPlaceholder.style[k]="translate("+this.rect.x+"px, "+this.rect.y+"px)"},f.hideDropPlaceholder=function(){var a=this.dropPlaceholder.parentNode;a&&a.removeChild(this.dropPlaceholder)},j}),function(a,b){"function"==typeof define&&define.amd?define(["get-size/get-size","outlayer/outlayer","packery/js/rect","packery/js/packer","packery/js/item"],b):"object"==typeof module&&module.exports?module.exports=b(require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item")):a.Packery=b(a.getSize,a.Outlayer,a.Packery.Rect,a.Packery.Packer,a.Packery.Item)}(window,function(w,l,j,g,f){function x(a,c){return a.position.y-c.position.y||a.position.x-c.position.x}function b(a,c){return a.position.x-c.position.x||a.position.y-c.position.y}function q(c,d){var a=d.x-c.x,h=d.y-c.y;return Math.sqrt(a*a+h*h)}j.prototype.canFit=function(a){return this.width>=a.width-1&&this.height>=a.height-1};var k=l.create("packery");k.Item=f;var v=k.prototype;v._create=function(){l.prototype._create.call(this),this.packer=new g,this.shiftPacker=new g,this.isEnabled=!0,this.dragItemCount=0;var a=this;this.handleDraggabilly={dragStart:function(){a.itemDragStart(this.element)},dragMove:function(){a.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){a.itemDragEnd(this.element)}},this.handleUIDraggable={start:function(d,c){c&&a.itemDragStart(d.currentTarget)},drag:function(d,c){c&&a.itemDragMove(d.currentTarget,c.position.left,c.position.top)},stop:function(d,c){c&&a.itemDragEnd(d.currentTarget)}}},v._resetLayout=function(){this.getSize(),this._getMeasurements();var c,d,a;this._getOption("horizontal")?(c=1/0,d=this.size.innerHeight+this.gutter,a="rightwardTopToBottom"):(c=this.size.innerWidth+this.gutter,d=1/0,a="downwardLeftToRight"),this.packer.width=this.shiftPacker.width=c,this.packer.height=this.shiftPacker.height=d,this.packer.sortDirection=this.shiftPacker.sortDirection=a,this.packer.reset(),this.maxY=0,this.maxX=0},v._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},v._getItemLayoutPosition=function(a){if(this._setRectSize(a.element,a.rect),this.isShifting||this.dragItemCount>0){var c=this._getPackMethod();this.packer[c](a.rect)}else{this.packer.pack(a.rect)}return this._setMaxXY(a.rect),a.rect},v.shiftLayout=function(){this.isShifting=!0,this.layout(),delete this.isShifting},v._getPackMethod=function(){return this._getOption("horizontal")?"rowPack":"columnPack"},v._setMaxXY=function(a){this.maxX=Math.max(a.x+a.width,this.maxX),this.maxY=Math.max(a.y+a.height,this.maxY)},v._setRectSize=function(d,a){var r=w(d),h=r.outerWidth,c=r.outerHeight;(h||c)&&(h=this._applyGridGutter(h,this.columnWidth),c=this._applyGridGutter(c,this.rowHeight)),a.width=Math.min(h,this.packer.width),a.height=Math.min(c,this.packer.height)},v._applyGridGutter=function(c,d){if(!d){return c+this.gutter}d+=this.gutter;var a=c%d,h=a&&1>a?"round":"ceil";return c=Math[h](c/d)*d},v._getContainerSize=function(){return this._getOption("horizontal")?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},v._manageStamp=function(a){var c,h=this.getItem(a);if(h&&h.isPlacing){c=h.rect}else{var d=this._getElementOffset(a);c=new j({x:this._getOption("originLeft")?d.left:d.right,y:this._getOption("originTop")?d.top:d.bottom})}this._setRectSize(a,c),this.packer.placed(c),this._setMaxXY(c)},v.sortItemsByPosition=function(){var a=this._getOption("horizontal")?b:x;this.items.sort(a)},v.fit=function(c,d,a){var h=this.getItem(c);h&&(this.stamp(h.element),h.enablePlacing(),this.updateShiftTargets(h),d=void 0===d?h.rect.x:d,a=void 0===a?h.rect.y:a,this.shift(h,d,a),this._bindFitEvents(h),h.moveTo(h.rect.x,h.rect.y),this.shiftLayout(),this.unstamp(h.element),this.sortItemsByPosition(),h.disablePlacing())},v._bindFitEvents=function(c){function d(){h++,2==h&&a.dispatchEvent("fitComplete",null,[c])}var a=this,h=0;c.once("layout",d),this.once("layoutComplete",d)},v.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&(this.options.shiftPercentResize?this.resizeShiftPercentLayout():this.layout())},v.needsResizeLayout=function(){var c=w(this.element),a=this._getOption("horizontal")?"innerHeight":"innerWidth";return c[a]!=this.size[a]},v.resizeShiftPercentLayout=function(){var B=this._getItemsForLayout(this.items),z=this._getOption("horizontal"),y=z?"y":"x",t=z?"height":"width",F=z?"rowHeight":"columnWidth",d=z?"innerHeight":"innerWidth",D=this[F];if(D=D&&D+this.gutter){this._getMeasurements();var A=this[F]+this.gutter;B.forEach(function(a){var c=Math.round(a.rect[y]/D);a.rect[y]=c*A})}else{var E=w(this.element)[d]+this.gutter,C=this.packer[t];B.forEach(function(a){a.rect[y]=a.rect[y]/C*E})}this.shiftLayout()},v.itemDragStart=function(a){if(this.isEnabled){this.stamp(a);var c=this.getItem(a);c&&(c.enablePlacing(),c.showDropPlaceholder(),this.dragItemCount++,this.updateShiftTargets(c))}},v.updateShiftTargets=function(K){this.shiftPacker.reset(),this._getBoundingRect();var F=this._getOption("originLeft"),A=this._getOption("originTop");this.stamps.forEach(function(a){var e=this.getItem(a);if(!e||!e.isPlacing){var c=this._getElementOffset(a),d=new j({x:F?c.left:c.right,y:A?c.top:c.bottom});this._setRectSize(a,d),this.shiftPacker.placed(d)}},this);var z=this._getOption("horizontal"),L=z?"rowHeight":"columnWidth",i=z?"height":"width";this.shiftTargetKeys=[],this.shiftTargets=[];var I,C=this[L];if(C=C&&C+this.gutter){var J=Math.ceil(K.rect[i]/C),H=Math.floor((this.shiftPacker[i]+this.gutter)/C);I=(H-J)*C;for(var G=0;H>G;G++){var E=z?0:G*C,B=z?G*C:0;this._addShiftTarget(E,B,I)}}else{I=this.shiftPacker[i]+this.gutter-K.rect[i],this._addShiftTarget(0,0,I)}var y=this._getItemsForLayout(this.items),D=this._getPackMethod();y.forEach(function(o){var M=o.rect;this._setRectSize(o.element,M),this.shiftPacker[D](M),this._addShiftTarget(M.x,M.y,I);var h=z?M.x+M.width:M.x,P=z?M.y:M.y+M.height;if(this._addShiftTarget(h,P,I),C){for(var r=Math.round(M[i]/C),a=1;r>a;a++){var O=z?h:M.x+C*a,N=z?M.y+C*a:P;this._addShiftTarget(O,N,I)}}},this)},v._addShiftTarget=function(c,h,a){var u=this._getOption("horizontal")?h:c;if(!(0!==u&&u>a)){var r=c+","+h,d=-1!=this.shiftTargetKeys.indexOf(r);d||(this.shiftTargetKeys.push(r),this.shiftTargets.push({x:c,y:h}))}},v.shift=function(c,h,a){var u,r=1/0,d={x:h,y:a};this.shiftTargets.forEach(function(i){var n=q(i,d);r>n&&(u=i,r=n)}),c.rect.x=u.x,c.rect.y=u.y};var p=120;v.itemDragMove=function(c,u,a){function z(){d.shift(y,u,a),y.positionDropPlaceholder(),d.layout()}var y=this.isEnabled&&this.getItem(c);if(y){u-=this.size.paddingLeft,a-=this.size.paddingTop;var d=this,h=new Date;this._itemDragTime&&h-this._itemDragTime<p?(clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(z,p)):(z(),this._itemDragTime=h)}},v.itemDragEnd=function(c){function d(){r++,2==r&&(a.element.classList.remove("is-positioning-post-drag"),a.hideDropPlaceholder(),h.dispatchEvent("dragItemPositioned",null,[a]))}var a=this.isEnabled&&this.getItem(c);if(a){clearTimeout(this.dragTimeout),a.element.classList.add("is-positioning-post-drag");var r=0,h=this;a.once("layout",d),this.once("layoutComplete",d),a.moveTo(a.rect.x,a.rect.y),this.layout(),this.dragItemCount=Math.max(0,this.dragItemCount-1),this.sortItemsByPosition(),a.disablePlacing(),this.unstamp(a.element)}},v.bindDraggabillyEvents=function(a){this._bindDraggabillyEvents(a,"on")},v.unbindDraggabillyEvents=function(a){this._bindDraggabillyEvents(a,"off")},v._bindDraggabillyEvents=function(c,d){var a=this.handleDraggabilly;c[d]("dragStart",a.dragStart),c[d]("dragMove",a.dragMove),c[d]("dragEnd",a.dragEnd)},v.bindUIDraggableEvents=function(a){this._bindUIDraggableEvents(a,"on")},v.unbindUIDraggableEvents=function(a){this._bindUIDraggableEvents(a,"off")},v._bindUIDraggableEvents=function(c,d){var a=this.handleUIDraggable;c[d]("dragstart",a.start)[d]("drag",a.drag)[d]("dragstop",a.stop)};var m=v.destroy;return v.destroy=function(){m.apply(this,arguments),this.isEnabled=!1},k.Rect=j,k.Packer=g,k});