CKEDITOR.dialog.add("emojioneDialog",function(d){var a=d.config,c,b=function(h){var f=h.data.getTarget();f.getAttribute("data-unicode")&&(d.insertText(emojione.convert(f.getAttribute("data-unicode"))),c.hide());h.data.preventDefault()},i=CKEDITOR.tools.addFunction(function(k,f){k=new CKEDITOR.dom.event(k);f=new CKEDITOR.dom.element(f);var h;h=k.getKeystroke();var j="rtl"==d.lang.dir;switch(h){case 38:if(h=f.getParent().getParent().getPrevious()){h=h.getChild([f.getParent().getIndex(),0]),h.focus()}k.preventDefault();break;case 40:(h=f.getParent().getParent().getNext())&&(h=h.getChild([f.getParent().getIndex(),0]))&&h.focus();k.preventDefault();break;case 32:b({data:k});k.preventDefault();break;case j?37:39:if(h=f.getParent().getNext()){h=h.getChild(0),h.focus(),k.preventDefault(!0)}else{if(h=f.getParent().getParent().getNext()){(h=h.getChild([0,0]))&&h.focus(),k.preventDefault(!0)}}break;case j?39:37:if(h=f.getParent().getPrevious()){h=h.getChild(0),h.focus(),k.preventDefault(!0)}else{if(h=f.getParent().getParent().getPrevious()){h=h.getLast().getChild(0),h.focus(),k.preventDefault(!0)}}}}),g=function(o){var h=CKEDITOR.tools.getNextId()+"_smiley_emtions_label",h=['\x3cdiv\x3e\x3cspan id\x3d"'+h+'" class\x3d"cke_voice_label"\x3eTest\x3c/span\x3e','\x3ctable role\x3d"listbox" aria-labelledby\x3d"'+h+'" style\x3d"width:100%;height:100%;border-collapse:separate;" cellspacing\x3d"2" cellpadding\x3d"2"',CKEDITOR.env.ie&&CKEDITOR.env.quirks?' style\x3d"position:absolute;"':"","\x3e\x3ctbody\x3e"],j={},n=0;emojione.imageType="svg";emojione.sprites=!0;emojione.imagePathSVGSprites="/vendor/emojione/assets/sprites/emojione.sprites.svg";for(var m in emojione.emojioneList){if(emojione.emojioneList.hasOwnProperty(m)){var k=emojione.emojioneList[m];if(k.isCanonical){for(var l in k){k.hasOwnProperty(l)&&-1!=a.emojis[o].indexOf(m)&&(j[m]=k)}}}}for(m in j){if(0===n%10&&h.push('\x3ctr role\x3d"presentation"\x3e'),j.hasOwnProperty(m)){k=j[m];for(l in k){k.hasOwnProperty(l)}h.push('\x3ctd class\x3d"cke_centered" style\x3d"vertical-align: middle;" role\x3d"presentation"\x3e\x3ca data-unicode\x3d"'+k.unicode[0]+'" data-shortcode\x3d"'+m+'" href\x3d"javascript:void(0)" role\x3d"option"',' aria-posinset\x3d"'+(n+1)+'"',' aria-setsize\x3d""',' aria-labelledby\x3d""',' class\x3d"cke_hand" tabindex\x3d"-1" onkeydown\x3d"CKEDITOR.tools.callFunction( ',i,', event, this );"\x3e',emojione.shortnameToUnicode(m)+"\x3c/a\x3e","\x3c/td\x3e");9==n%10&&h.push("\x3c/tr\x3e");n++}}if(9>n){for(;9>n;n++){h.push("\x3ctd\x3e\x3c/td\x3e")}h.push("\x3c/tr\x3e")}h.push("\x3c/tbody\x3e\x3c/table\x3e\x3c/div\x3e");return h},e=function(f){return{type:"html",id:"emojiSelector",html:g(f).join(""),onLoad:function(h){c=h.sender},focus:function(){var h=this;setTimeout(function(){h.getElement().getElementsByTag("a").getItem(0).focus()},0)},onClick:b,style:"width: 100%; border-collapse: separate;"}};return{title:"Emojis",minWidth:550,minHeight:200,contents:[{id:"tab-people",label:"People",elements:[e("people")]},{id:"tab-nature",label:"Nature",elements:[e("nature")]},{id:"tab-objects",label:"Objects",elements:[e("objects")]},{id:"tab-places",label:"Places",elements:[e("places")]},{id:"tab-symbols",label:"Symbols",elements:[e("symbols")]}],onShow:function(){}}});