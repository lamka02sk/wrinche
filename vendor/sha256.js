"use strict";(function(k){function n(O,Q,N){var H=0,P=[],K=0,L,F,I,M,J,D,x,E,G=!1,B=[],C=[],A,w=!1;N=N||{};L=N.encoding||"UTF8";A=N.numRounds||1;if(A!==parseInt(A,10)||1>A){throw Error()}if(0===O.lastIndexOf("SHA-",0)){if(D=function(m,r){return y(m,r,O)},x=function(m,R,r,T){var S,U;if("SHA-224"===O||"SHA-256"===O){S=(R+65>>>9<<4)+15,U=16}else{throw Error()}for(;m.length<=S;){m.push(0)}m[R>>>5]|=128<<24-R%32;R=R+r;m[S]=R&4294967295;m[S-1]=R/4294967296|0;r=m.length;for(R=0;R<r;R+=U){T=y(m.slice(R,R+U),T,O)}if("SHA-224"===O){m=[T[0],T[1],T[2],T[3],T[4],T[5],T[6]]}else{if("SHA-256"===O){m=T}else{throw Error()}}return m},E=function(m){return m.slice()},"SHA-224"===O){J=512,M=224}else{if("SHA-256"===O){J=512,M=256}else{throw Error()}}}else{throw Error()}I=v(Q,L);F=j(O);this.setHMACKey=function(m,r,R){var S;if(!0===G){throw Error()}if(!0===w){throw Error()}L=(R||{}).encoding||"UTF8";r=v(r,L)(m);m=r.binLen;r=r.value;S=J>>>3;R=S/4-1;if(S<m/8){for(r=x(r,m,0,j(O));r.length<=R;){r.push(0)}r[R]&=4294967040}else{if(S>m/8){for(;r.length<=R;){r.push(0)}r[R]&=4294967040}}for(m=0;m<=R;m+=1){B[m]=r[m]^909522486,C[m]=r[m]^1549556828}F=D(B,F);H=J;G=!0};this.update=function(m){var U,r,S,T=0,R=J>>>5;U=I(m,P,K);m=U.binLen;r=U.value;U=m>>>5;for(S=0;S<U;S+=R){T+J<=m&&(F=D(r.slice(S,S+R),F),T+=J)}H+=T;P=r.slice(T>>>5);K=m%J;w=!0};this.getHash=function(m,U){var V,S,R,T;if(!0===G){throw Error()}R=t(U);switch(m){case"HEX":V=function(W){return s(W,M,R)};break;case"B64":V=function(W){return q(W,M,R)};break;case"BYTES":V=function(W){return p(W,M)};break;case"ARRAYBUFFER":try{S=new ArrayBuffer(0)}catch(r){throw Error()}V=function(W){return o(W,M)};break;default:throw Error()}T=x(P.slice(),K,H,E(F));for(S=1;S<A;S+=1){T=x(T,M,0,j(O))}return V(T)};this.getHMAC=function(m,U){var V,R,T,S;if(!1===G){throw Error()}T=t(U);switch(m){case"HEX":V=function(W){return s(W,M,T)};break;case"B64":V=function(W){return q(W,M,T)};break;case"BYTES":V=function(W){return p(W,M)};break;case"ARRAYBUFFER":try{V=new ArrayBuffer(0)}catch(r){throw Error()}V=function(W){return o(W,M)};break;default:throw Error()}R=x(P.slice(),K,H,E(F));S=D(C,j(O));S=x(R,M,J,S);return V(S)}}function z(){}function s(B,w,A){var r="";w/=8;var m,x;for(m=0;m<w;m+=1){x=B[m>>>2]>>>8*(3+m%4*-1),r+="0123456789abcdef".charAt(x>>>4&15)+"0123456789abcdef".charAt(x&15)}return A.outputUpper?r.toUpperCase():r}function q(D,w,B){var r="",m=w/8,x,A,C;for(x=0;x<m;x+=3){for(A=x+1<m?D[x+1>>>2]:0,C=x+2<m?D[x+2>>>2]:0,C=(D[x>>>2]>>>8*(3+x%4*-1)&255)<<16|(A>>>8*(3+(x+1)%4*-1)&255)<<8|C>>>8*(3+(x+2)%4*-1)&255,A=0;4>A;A+=1){8*x+6*A<=w?r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(C>>>6*(3-A)&63):r+=B.b64Pad}}return r}function p(B,w){var A="",r=w/8,m,x;for(m=0;m<r;m+=1){x=B[m>>>2]>>>8*(3+m%4*-1)&255,A+=String.fromCharCode(x)}return A}function o(B,w){var A=w/8,r,m=new ArrayBuffer(A),x;x=new Uint8Array(m);for(r=0;r<A;r+=1){x[r]=B[r>>>2]>>>8*(3+r%4*-1)&255}return m}function t(r){var m={outputUpper:!1,b64Pad:"=",shakeLen:-1};r=r||{};m.outputUpper=r.outputUpper||!1;!0===r.hasOwnProperty("b64Pad")&&(m.b64Pad=r.b64Pad);if("boolean"!==typeof m.outputUpper){throw Error()}if("string"!==typeof m.b64Pad){throw Error()}return m}function v(x,r){var w;switch(r){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error()}switch(x){case"HEX":w=function(I,H,G){var D=I.length,F,B,E,C,A;if(0!==D%2){throw Error()}H=H||[0];G=G||0;A=G>>>3;for(F=0;F<D;F+=2){B=parseInt(I.substr(F,2),16);if(isNaN(B)){throw Error()}C=(F>>>1)+A;for(E=C>>>2;H.length<=E;){H.push(0)}H[E]|=B<<8*(3+C%4*-1)}return{value:H,binLen:4*D+G}};break;case"TEXT":w=function(K,L,J){var H,D,F=0,I,G,B,E,C,A;L=L||[0];J=J||0;B=J>>>3;if("UTF8"===r){for(A=3,I=0;I<K.length;I+=1){for(H=K.charCodeAt(I),D=[],128>H?D.push(H):2048>H?(D.push(192|H>>>6),D.push(128|H&63)):55296>H||57344<=H?D.push(224|H>>>12,128|H>>>6&63,128|H&63):(I+=1,H=65536+((H&1023)<<10|K.charCodeAt(I)&1023),D.push(240|H>>>18,128|H>>>12&63,128|H>>>6&63,128|H&63)),G=0;G<D.length;G+=1){C=F+B;for(E=C>>>2;L.length<=E;){L.push(0)}L[E]|=D[G]<<8*(A+C%4*-1);F+=1}}}else{if("UTF16BE"===r||"UTF16LE"===r){for(A=2,D="UTF16LE"===r&&!0||"UTF16LE"!==r&&!1,I=0;I<K.length;I+=1){H=K.charCodeAt(I);!0===D&&(G=H&255,H=G<<8|H>>>8);C=F+B;for(E=C>>>2;L.length<=E;){L.push(0)}L[E]|=H<<8*(A+C%4*-1);F+=2}}}return{value:L,binLen:8*F+J}};break;case"B64":w=function(K,J,I){var F=0,H,D,G,E,A,C,B;if(-1===K.search(/^[a-zA-Z0-9=+\/]+$/)){throw Error()}D=K.indexOf("=");K=K.replace(/\=/g,"");if(-1!==D&&D<K.length){throw Error()}J=J||[0];I=I||0;C=I>>>3;for(D=0;D<K.length;D+=4){A=K.substr(D,4);for(G=E=0;G<A.length;G+=1){H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(A[G]),E|=H<<18-6*G}for(G=0;G<A.length-1;G+=1){B=F+C;for(H=B>>>2;J.length<=H;){J.push(0)}J[H]|=(E>>>16-8*G&255)<<8*(3+B%4*-1);F+=1}}return{value:J,binLen:8*F+I}};break;case"BYTES":w=function(B,A,H){var F,G,C,E,D;A=A||[0];H=H||0;C=H>>>3;for(G=0;G<B.length;G+=1){F=B.charCodeAt(G),D=G+C,E=D>>>2,A.length<=E&&A.push(0),A[E]|=F<<8*(3+D%4*-1)}return{value:A,binLen:8*B.length+H}};break;case"ARRAYBUFFER":try{w=new ArrayBuffer(0)}catch(m){throw Error()}w=function(B,A,H){var F,G,C,E,D;A=A||[0];H=H||0;G=H>>>3;D=new Uint8Array(B);for(F=0;F<B.byteLength;F+=1){E=F+G,C=E>>>2,A.length<=C&&A.push(0),A[C]|=D[F]<<8*(3+E%4*-1)}return{value:A,binLen:8*B.byteLength+H}};break;default:throw Error()}return w}function u(r,m){return r>>>m|r<<32-m}function i(w,m,r){return w&m^~w&r}function h(w,m,r){return w&m^w&r^m&r}function g(m){return u(m,2)^u(m,13)^u(m,22)}function f(m){return u(m,6)^u(m,11)^u(m,25)}function e(m){return u(m,7)^u(m,18)^m>>>3}function d(m){return u(m,17)^u(m,19)^m>>>10}function c(w,m){var r=(w&65535)+(m&65535);return((w>>>16)+(m>>>16)+(r>>>16)&65535)<<16|r&65535}function b(A,w,x,r){var m=(A&65535)+(w&65535)+(x&65535)+(r&65535);return((A>>>16)+(w>>>16)+(x>>>16)+(r>>>16)+(m>>>16)&65535)<<16|m&65535}function a(B,w,A,r,m){var x=(B&65535)+(w&65535)+(A&65535)+(r&65535)+(m&65535);return((B>>>16)+(w>>>16)+(A>>>16)+(r>>>16)+(m>>>16)+(x>>>16)&65535)<<16|x&65535}function j(w){var m=[],r;if(0===w.lastIndexOf("SHA-",0)){switch(m=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],r=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],w){case"SHA-224":break;case"SHA-256":m=r;break;case"SHA-384":m=[new z,new z,new z,new z,new z,new z,new z,new z];break;case"SHA-512":m=[new z,new z,new z,new z,new z,new z,new z,new z];break;default:throw Error()}}else{throw Error()}return m}function y(af,ah,ae){var Y,ag,ab,ac,W,Z,ad,aa,X,S,V,J,P,I,N,H,U,T,R,Q,O,M,L=[],K;if("SHA-224"===ae||"SHA-256"===ae){S=64,J=1,M=Number,P=c,I=b,N=a,H=e,U=d,T=g,R=f,O=h,Q=i,K=l}else{throw Error()}ae=ah[0];Y=ah[1];ag=ah[2];ab=ah[3];ac=ah[4];W=ah[5];Z=ah[6];ad=ah[7];for(V=0;V<S;V+=1){16>V?(X=V*J,aa=af.length<=X?0:af[X],X=af.length<=X+1?0:af[X+1],L[V]=new M(aa,X)):L[V]=I(U(L[V-2]),L[V-7],H(L[V-15]),L[V-16]),aa=N(ad,R(ac),Q(ac,W,Z),K[V],L[V]),X=P(T(ae),O(ae,Y,ag)),ad=Z,Z=W,W=ac,ac=P(ab,aa),ab=ag,ag=Y,Y=ae,ae=P(aa,X)}ah[0]=P(ae,ah[0]);ah[1]=P(Y,ah[1]);ah[2]=P(ag,ah[2]);ah[3]=P(ab,ah[3]);ah[4]=P(ac,ah[4]);ah[5]=P(W,ah[5]);ah[6]=P(Z,ah[6]);ah[7]=P(ad,ah[7]);return ah}var l;l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];"function"===typeof define&&define.amd?define(function(){return n}):"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(module.exports=n),exports=n):k.jsSHA=n})(this);