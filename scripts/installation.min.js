var validate={username:function(a){if(a.length<4){return"USERNAME_SHORT"}if(a.length>25){return"USERNAME_LONG"}if(/\s/g.test(a)){return"USERNAME_SPACES"}return true},mail:function(a){if(/\s/g.test(a)){return"EMAIL_SPACES"}var b=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(!b.test(a)){return"EMAIL_INVALID"}return true},password:function(a){if(a.length<6){return"PASSWORD_SHORT"}if(a.length>45){return"PASSWORD_LONG"}if(/\s/g.test(a)){return"PASSWORD_SPACES"}if(a.match(/\d/g)===null){return"PASSWORD_NUMBER"}return true},match:function(a){var b=$("input[name=password]").val();if(b!==a){return"PASSWORD_MATCH"}return true}};function processValidation(e,b){var f=e.parent().parent().parent().parent().data("id");if(f===2){var d=e.attr("name");var a=e.val();var c=validate[d](a);if(typeof(c)==="string"){e.parent().find("label").removeClass("valid").addClass("error");e.parent().find("p.message").text(b[c]).addClass("active");return false}else{e.parent().find("label").removeClass("error").addClass("valid");e.parent().find("p.message").removeClass("active").html("");return true}}else{}}function validateForm(c,a){var b=true;$("div.install-form[data-id="+c+"] div.form-input").each(function(){var e=$(this).find("input");var d=processValidation(e,a);if(!d){b=false;return b}});return b}function getJson(a){return JSON.parse($.ajax({type:"GET",url:a,dataType:"json",global:false,async:false,success:function(b){return b}}).responseText)}$(document).ready(function(){var d=$("html").attr("lang");var a=getJson("app/Data/Locale/"+d+"/install.json");$("select").dropdown();$("div.intro").addClass("animate");$("button.proceed-install").delay(500).queue(function(){$(this).addClass("animate").dequeue()}).click(function(){$("div.intro").addClass("hide").removeClass("animate");$("div.installer").addClass("animate")});var b=[];var c=true;$("button.next-step").click(function(){var i=[2,3,4];var h=$(this).parent().parent();var k=h.data("id");var e=+k+1;var g=[];var f=$(this).prev().find(".form-input").each(function(){var m=$(this).find("label").attr("for");g[m]=$(this).find(".fs-dropdown-item_selected").data("value")});var l=$(this).prev().serializeArray();var j=[];j.selects=g;j.inputs=l;b[k]=j;if(jQuery.inArray(k,i)!==-1){c=validateForm(k,a)}if(!c){return false}if(k===4){}else{$("div.install-form").removeClass("active");$("div.install-form[data-id="+e+"]").addClass("active");$(".menu-box ol li").removeClass("active");$(".menu-box ol li[data-id="+k+"]").addClass("done");$(".menu-box ol li[data-id="+e+"]").addClass("active")}});$("input").focusout(function(){var e=$(this);processValidation(e,a)}).on("change keydown keypress keyup mousedown click mouseup",function(){var e=$(this);processValidation(e,a)})});