function saveSelectorSetting(a,b){let reference=a.dataset.reference;let value=b.getAttribute("value");let link=window.location.href;let data={};data[reference]=value;if(value==null){return}postData(link,data,function(d,c){if(c==="success"){}else{}});if(reference==="theme"){let oldTheme=document.querySelector("link[id=theme]");let path=oldTheme.getAttribute("href").split("themes/")[0];oldTheme.parentNode.removeChild(oldTheme);let newTheme=document.createElement("link");newTheme.setAttribute("id","theme");newTheme.setAttribute("rel","stylesheet");newTheme.setAttribute("type","text/css");newTheme.setAttribute("href",path+"themes/"+value+"/admin.min.css");document.querySelector("head").appendChild(newTheme)}else{if(reference==="language"){let newLocale=b.getAttribute("value");document.querySelector("html").setAttribute("lang",newLocale);translate=new Translate(translations,false);selector.destroy();selector=new Selector({onSelect:function(c,d){saveSelectorSetting(c,d)}})}}setTimeout(function(){responseBox.classList.remove("loading");responseBox.classList.remove("open");responseBox.querySelector("span.message-content").innerText=""},400)}previousScripts.push("settings");selector=new Selector({onSelect:function(a,b){saveSelectorSetting(a,b)}});$("div.splash").addClass("done");