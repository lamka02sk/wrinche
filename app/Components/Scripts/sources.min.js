componentsModule.modules.sources={start:function(){let current=componentsModule.modules.sources;current.parentElement=document.querySelector("[data-component=sources]");current.nameInput=current.parentElement.querySelector("[name=component_sources_add_name]");current.valueInput=current.parentElement.querySelector("[name=component_sources_add_source]");current.addButton=current.parentElement.querySelector(".sources-add");current.itemsList=current.parentElement.querySelector(".sources-list");current.templateElement=current.parentElement.querySelector("#template_component_sources_item").childNodes[0];componentsModule.initializeEvents([{event:"keyup",element:current.valueInput,content:function(a){if(!a.keyCode||a.keyCode!==13){return true}current.addButton.click()}},{event:"click",element:current.parentElement,content:function(a){let target=a.target;if(target===current.addButton){current.addSource()}else{if(target.matches(".source-edit")){let parent=target.parentNode;current.nameInput.value=parent.childNodes[0].innerText.trim();current.valueInput.value=parent.childNodes[1].innerText.trim();current.nameInput.focus();current.itemsList.removeChild(parent);reloadPackery()}else{if(target.matches(".source-remove")){current.nameInput.value="";current.valueInput.value="";current.nameInput.focus();current.itemsList.removeChild(target.parentNode);reloadPackery()}}}}}])},addSource:function(c){let current=componentsModule.modules.sources;let currentSources=current.itemsList.childNodes;let sourceNames=Object.values(currentSources).map(function(d){return d.childNodes[0].innerText.trim()});const a=c[0]||current.nameInput.value.trim();if(~sourceNames.indexOf(a)){current.nameInput.value="";if(!c){current.nameInput.focus()}return true}const b=c[1]||current.valueInput.value.trim();if(a===""||b===""){if(!c){current.nameInput.focus()}return true}let template=current.templateElement.cloneNode(true);template.children[0].innerText=a;template.children[1].innerText=b;current.nameInput.value="";current.valueInput.value="";if(!c){current.nameInput.focus()}current.itemsList.insertBefore(template,current.itemsList.childNodes[0]);reloadPackery()},resume:function(){let current=componentsModule.modules.sources;const b=current.parentElement.getAttribute("data-resume");if(b===""){return true}const a=JSON.parse(b).sources;if(a===null){return true}a.forEach(function(c){current.addSource(c)});reloadPackery()},validate:function(){return true},serialize:function(){let sourceItems=componentsModule.modules.sources.itemsList.childNodes;let sources=Object.values(sourceItems).reverse().map(function(a){return[a.childNodes[0].innerText.trim(),a.childNodes[1].innerText.trim()]});return{sources:sources}}};