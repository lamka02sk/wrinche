componentsModule.modules.categories={start:function(){let current=componentsModule.modules.categories;current.parentElement=document.querySelector("[data-component=categories]");current.listElement=current.parentElement.querySelector(".categories-list");current.inputElement=current.parentElement.querySelector("input");current.templateElement=current.parentElement.querySelector("#template_component_categories_item").childNodes[0];const a=getJson(URI+"api/categories.all&csrf_token="+csrf_token);if(!a.success||a.code!==200){return true}Object.values(a.data).forEach(function(b){let template=current.templateElement.cloneNode(true);template.setAttribute("data-category",b.id);template.setAttribute("data-active","false");template.children[0].innerText=b.name;current.listElement.appendChild(template)});componentsModule.initializeEvents([{event:"click",element:current.parentElement,content:function(b){let target=b.target;if(target.matches(".add-category")){target.parentNode.setAttribute("data-active","true");target.classList.add("hide");target.nextSibling.classList.remove("hide")}else{if(target.matches(".remove-category")){target.parentNode.setAttribute("data-active","false");target.previousSibling.classList.remove("hide");target.classList.add("hide")}}}},{event:"change keyup",element:current.inputElement,content:function(){const b=current.inputElement.value.trim().toLowerCase();Array.from(current.listElement.childNodes).forEach(function(c){let categoryName=c.childNodes[0].innerText.toLowerCase();if(~categoryName.indexOf(b)){c.classList.remove("hide")}else{c.classList.add("hide")}});reloadPackery()}}]);reloadPackery()},resume:function(){let current=componentsModule.modules.categories;const b=current.parentElement.getAttribute("data-resume");if(b===""){return true}const a=JSON.parse(b).categories;if(a===null){return true}a.forEach(function(c){current.listElement.querySelector('[data-category="'+c+'"]').childNodes[1].click()})},validate:function(){return true},serialize:function(){let categoriesElements=componentsModule.modules.categories.listElement.querySelectorAll("[data-active=true]");let activeCategories=Object.values(categoriesElements).map(function(a){return a.getAttribute("data-category")});return{categories:activeCategories}}};